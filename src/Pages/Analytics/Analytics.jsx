import { AnimatePresence, motion } from "framer-motion";
import React, { useEffect, useState } from "react";
import { useNavigate } from "react-router-dom";
import LoadingScreen from "../../Components/Utils/LoadingScreen";
import axios from "axios";
import { showToast } from "../../Components/Utils/ToastService";
import DailyProgressChart from "../../Components/Charts/DailyReport/DailyProgressChart";
import MonthlyReportChart from "../../Components/Charts/MonthlyReport/MonthlyReportChart";
import YearlyReportChart from "../../Components/Charts/YearlyReport/YearlyReportChart";

function Analytics() {
  const [seeWhat, setSeeWhat] = useState(null);
  const navigate = useNavigate();
  const [isLoading, setIsLoading] = useState(false);
  const baseUrl = import.meta.env.VITE_BACKEND_URL;
  const token = localStorage.getItem("jwtToken");
  const [dailyReportsData, setDailyReportsData] = useState(null);
  const [monthlyReportsData, setMonthlyReportsData] = useState(null);
  const [yearlyReportsData, setYearlyReportsData] = useState(null);
  // console.log("see what: ",seeWhat)

  const getAllAnalyticsData = async () => {
    try {
      setIsLoading(true);
      const res = await axios.get(`${baseUrl}/api/features/get-reports`, {
        headers: {
          Authorization: `Bearer ${token}`,
        },
      });
      // console.log("reports response: ",res.data.data);
      setDailyReportsData(res.data.data.dailyReports);
      setMonthlyReportsData(res.data.data.monthlyReports);
      setYearlyReportsData(res.data.data.yearlyReports);
      setIsLoading(false);
    } catch (error) {
      setIsLoading(false);
      console.log("Unable to fetch reports: ", error.message);
      showToast("error", "Something went wrong");
    }
  };
  useEffect(() => {
    getAllAnalyticsData();
  }, []);

  return (
    <div className="flex  items-center justify-center h-screen bg-[#222831] text-white ">
      {/* mobile responsive design */}
      <div className="lg:hidden flex flex-col items-center justify-between w-[90%] max-w-[480px] h-[95vh] bg-linear-to-b from-[#1B1E22] to-[#2A2F35] rounded-3xl p-6 gap-8 shadow-[0_0_40px_rgba(0,0,0,0.45)] border border-white/10 backdrop-blur-xl relative overflow-hidden">
         {/* HEADER */}
      <h1 className="text-4xl font-extrabold tracking-wide text-transparent bg-clip-text bg-linear-to-r from-[#FFD369] to-[#FBB03B] drop-shadow-lg">
        Auramind
      </h1>
        {/* MAIN CARD */}
      <div className="flex flex-col items-center justify-between w-full h-full bg-[#211E28]/40 border border-white/6 rounded-3xl shadow-inner overflow-hidden backdrop-blur-xl">
       {/* TOP BAR */}
       <div className="flex justify-between items-center w-full p-4">
          <h1 className="text-left w-full text-2xl font-semibold text-white/90">Progress Reports</h1>

          <AnimatePresence mode="wait">
            {seeWhat && (
              <motion.button
                initial={{ opacity: 0, x: 40 }}
                animate={{ opacity: 1, x: 0 }}
                exit={{ opacity: 0, x: 40 }}
                transition={{ duration: 0.36, type: "spring" }}
                className="flex items-center text-[#00F0FF] hover:text-white font-semibold px-4 py-1 rounded-xl bg-white/5 backdrop-blur-lg shadow-lg border border-white/10 cursor-pointer"
                onClick={() => setSeeWhat(null)}
                aria-label="Go back"
              >
                <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
                  <path strokeLinecap="round" strokeLinejoin="round" d="M15 19l-7-7 7-7" />
                </svg>
                Back
              </motion.button>
            )}
          </AnimatePresence>
        </div>
          
            {/* CONTENT AREA */}
        <div className="flex flex-col gap-3 items-center w-full h-full border-t border-white/5 rounded-b-3xl  px-2 overflow-y-auto custom-scroll relative">
          {!seeWhat && (
            <div className="flex flex-col items-center w-full h-full border-t border-white/5 rounded-b-3xl ">
              {/* Daily Reports */}
              <motion.button
                whileHover={{ scale: 1.05, boxShadow: "0 2px 10px #0003" }}
                whileTap={{ scale: 0.97 }}
                className="w-full h-12 bg-[#222831] rounded-lg text-white flex gap-2 items-center px-5 py-3 my-1 cursor-pointer transition-all"
                type="button"
                onClick={() => setSeeWhat("dailyReports")}
              >
                <svg
                  className=""
                  width="34"
                  height="34"
                  viewBox="0 0 512 512"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill="#EEEEEE"
                    d="M245.333 117.333C239.675 117.333 234.249 119.581 230.248 123.582C226.248 127.583 224 133.009 224 138.667V266.667C224 272.325 226.248 277.751 230.249 281.751C234.249 285.752 239.675 288 245.333 288H341.333C344.147 288.019 346.937 287.482 349.542 286.418C352.147 285.355 354.516 283.786 356.513 281.803C358.509 279.821 360.094 277.462 361.175 274.864C362.256 272.267 362.813 269.48 362.813 266.667C362.813 263.853 362.256 261.066 361.175 258.469C360.094 255.871 358.509 253.512 356.513 251.53C354.516 249.547 352.147 247.978 349.542 246.915C346.937 245.851 344.147 245.314 341.333 245.333H266.667V138.667C266.667 133.009 264.419 127.583 260.418 123.582C256.417 119.581 250.991 117.333 245.333 117.333V117.333Z"
                  ></path>
                  <path
                    fill="#EEEEEE"
                    d="M421.938 90.068C330.438 -1.43201 181.563 -1.43201 90.0631 90.068C86.1041 94.0768 83.8919 99.4892 83.9095 105.123C83.9271 110.758 86.1731 116.156 90.1571 120.14C94.1411 124.124 99.5395 126.37 105.174 126.388C110.808 126.405 116.22 124.193 120.229 120.234C195.083 45.37 316.896 45.37 391.771 120.234C466.625 195.094 466.625 316.906 391.771 391.766C325.747 457.775 222.6 465.342 147.626 414.2L166.667 407.853C172.035 406.063 176.472 402.214 179.002 397.152C181.531 392.09 181.947 386.231 180.157 380.863C178.366 375.496 174.517 371.059 169.456 368.529C164.394 365.999 158.535 365.584 153.167 367.374L97.8671 385.811C93.0029 387.435 88.8859 390.755 86.2692 395.165C83.6525 399.575 82.7111 404.78 83.6171 409.827L95.0001 473.109C95.8866 478.03 98.4722 482.483 102.306 485.693C106.14 488.903 110.979 490.665 115.979 490.672C117.253 490.67 118.525 490.555 119.779 490.328C125.347 489.326 130.29 486.154 133.519 481.509C136.749 476.863 138.001 471.125 137 465.557L135.466 457.029C180.316 483.884 232.841 495.014 284.727 488.656C336.614 482.299 384.899 458.817 421.938 421.929C513.427 330.438 513.427 181.563 421.938 90.068Z"
                  ></path>
                  <path
                    fill="#EEEEEE"
                    d="M73.3438 143.7C70.8254 142.471 68.0895 141.751 65.2926 141.581C62.4956 141.41 59.6925 141.793 57.0436 142.707C54.3947 143.621 51.9519 145.048 49.8549 146.906C47.758 148.765 46.048 151.019 44.8228 153.539C43.0941 157.08 41.4691 160.652 39.9478 164.257C38.8369 166.838 38.2471 169.614 38.2121 172.424C38.1771 175.234 38.6978 178.023 39.7441 180.631C40.7905 183.239 42.3418 185.615 44.3092 187.622C46.2765 189.629 48.6209 191.227 51.2078 192.325C53.7947 193.423 56.5731 193.999 59.3833 194.02C62.1934 194.04 64.98 193.506 67.5829 192.446C70.1858 191.387 72.5537 189.824 74.5506 187.846C76.5475 185.869 78.1339 183.516 79.2188 180.924C80.4688 177.997 81.7808 175.091 83.1768 172.216C84.4038 169.698 85.1228 166.963 85.2927 164.167C85.4626 161.371 85.08 158.569 84.1669 155.921C83.2538 153.273 81.828 150.831 79.971 148.734C78.114 146.637 75.862 144.927 73.3438 143.7Z"
                  ></path>
                  <path
                    fill="#EEEEEE"
                    d="M42.74 272.083C48.301 272.082 53.6415 269.908 57.6228 266.026C61.6041 262.143 63.9112 256.859 64.052 251.3C64.156 247.274 64.3816 243.246 64.729 239.217C64.9705 236.426 64.66 233.616 63.8152 230.945C62.9704 228.274 61.6078 225.796 59.8054 223.652C58.0029 221.508 55.7958 219.74 53.31 218.449C50.8243 217.158 48.1086 216.37 45.318 216.128C42.5274 215.887 39.7166 216.197 37.046 217.042C34.3754 217.887 31.8973 219.249 29.7533 221.052C27.6093 222.854 25.8413 225.061 24.5503 227.547C23.2593 230.033 22.4705 232.748 22.229 235.539C21.8023 240.42 21.528 245.309 21.406 250.206C21.2606 255.861 23.3671 261.342 27.2622 265.444C31.1573 269.546 36.5221 271.934 42.177 272.081C42.365 272.083 42.552 272.083 42.74 272.083Z"
                  ></path>
                  <path
                    fill="#EEEEEE"
                    d="M71.9381 310.8C71.1358 308.116 69.8127 305.617 68.0444 303.444C66.276 301.271 64.0971 299.468 61.632 298.138C59.1669 296.807 56.4638 295.976 53.6772 295.69C50.8906 295.404 48.075 295.67 45.3911 296.472C42.7072 297.274 40.2076 298.597 38.035 300.366C35.8625 302.134 34.0595 304.313 32.729 306.778C31.3985 309.243 30.5666 311.946 30.2808 314.733C29.9949 317.519 30.2608 320.335 31.0631 323.019C32.1771 326.758 33.3851 330.488 34.6881 334.18C35.6176 336.823 37.0585 339.257 38.9286 341.343C40.7987 343.429 43.0614 345.126 45.5875 346.337C48.1135 347.549 50.8534 348.251 53.6508 348.404C56.4482 348.556 59.2482 348.157 61.8911 347.227C64.5339 346.298 66.9678 344.857 69.0538 342.986C71.1398 341.116 72.837 338.854 74.0485 336.328C75.26 333.802 75.9621 331.062 76.1148 328.264C76.2674 325.467 75.8676 322.667 74.9381 320.024C73.8647 316.969 72.8647 313.894 71.9381 310.8Z"
                  ></path>
                </svg>
                <motion.h2
                  className="text-sm font-medium"
                  initial={{ opacity: 0, x: -20 }}
                  animate={{ opacity: 1, x: 0 }}
                  transition={{ duration: 0.4 }}
                >
                  Daily Reports
                </motion.h2>
              </motion.button>
              {/* Monthly Reports*/}
              <motion.button
                whileHover={{ scale: 1.05, boxShadow: "0 2px 10px #0003" }}
                whileTap={{ scale: 0.97 }}
                className="w-full h-12 bg-[#222831] rounded-lg text-white flex gap-2 items-center px-5 py-3 my-1 cursor-pointer transition-all"
                type="button"
                onClick={() => {
                  setSeeWhat("monthlyReports");
                }}
              >
                <svg
                  width={34}
                  height={34}
                  version="1.1"
                  id="Capa_1"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlnsXlink="http://www.w3.org/1999/xlink"
                  x="0px"
                  y="0px"
                  viewBox="0 0 276.3 276.3"
                  xmlSpace="preserve"
                  fill="#EEEEEE"
                >
                  <g>
                    <g>
                      <path
                        d="M267.2,99.8V62.2v-4.1c0-21.6-19-39.1-42.7-39.7v0v9.5v0v9.6v0V43c0,14-11.4,25.4-25.4,25.4
			c-14,0-25.4-11.4-25.4-25.4v-5.6v-9.6v-9.6h-72v9.6v9.6V43c0,14-11.4,25.4-25.4,25.4C62.4,68.3,51,57,51,43v-5.4v0v-9.6v0v-9.5v0
			c-23.3,1-41.9,18.4-41.9,39.7v4.1v37.6v132.6c0,24.2,19.7,43.9,43.9,43.9h170.2c24.2,0,43.9-19.7,43.9-43.9L267.2,99.8L267.2,99.8
			z M248.1,232.4c0,13.7-11.1,24.8-24.8,24.8H53.1c-13.7,0-24.8-11.1-24.8-24.8V99.8h219.8V232.4z"
                      ></path>
                      <path
                        d="M65.3,11v7.2v9.6v9.6V43c0,6.1,4.9,11,11,11c6.1,0,11-4.9,11-11v-5.6v-9.6v-9.6V11c0-6.1-4.9-11-11-11
			C70.3,0,65.3,4.9,65.3,11z"
                      ></path>
                      <path
                        d="M199.1,0c-6.1,0-11.1,4.9-11.1,11v7.2v9.6v9.6V43c0,6.1,4.9,11,11.1,11s11.1-4.9,11.1-11v-5.6v-9.6v-9.6V11
			C210.2,4.9,205.2,0,199.1,0z"
                      ></path>
                      <path
                        d="M106.2,231.9c12.5,0,21.9-3.5,28.2-10.4c6.4-7,9.5-15,9.5-24.2c0-8.7-2.7-15.6-8.2-20.7
			c-1.5-1.4-2.8-2.4-4-3.2c-2.2-1.5-2.4-2.5-0.3-4.1c1.2-0.9,2.3-2,3.4-3.3c3.8-4.4,5.7-9.8,5.7-16.2c0-9-3.2-16.2-9.5-21.6
			s-14.7-8-25.1-8c-5.6,0-10.3,0.7-14.1,2c-3.8,1.3-7.2,3.3-9.9,5.8c-3.7,3.6-6.5,7.5-8.2,11.8c-1.2,3.4-1.9,6.9-2.4,10.6
			c-0.3,2.6,1.8,4.8,4.4,4.8H86c2.6,0,4.7-2.2,5.1-4.8c0.5-3.2,1.5-5.9,3.1-8c2.4-3.2,6.1-4.8,11.1-4.8c4.4,0,7.8,1.3,10.2,3.9
			c2.4,2.6,3.6,6,3.6,10.1c0,6.4-2.4,10.6-7.1,12.7c-2.1,0.9-5.3,1.5-9.7,1.8c-2.6,0.2-4.8,2.3-4.8,5v5.7c0,2.6,2.1,4.8,4.8,4.9
			c4.7,0.2,8.3,0.9,10.7,1.9c5.8,2.4,8.7,7.2,8.7,14.3c0,5.4-1.6,9.5-4.7,12.4c-3.1,2.9-6.8,4.3-10.9,4.3c-6.8,0-11.5-2.6-14.1-7.9
			c-0.8-1.7-1.4-3.7-1.8-6c-0.4-2.6-2.5-4.8-5.1-4.8H73.7c-2.6,0-4.7,2.1-4.4,4.8c0.7,6.5,2.3,11.9,4.9,16.2
			C80.2,226.9,90.8,231.9,106.2,231.9z"
                      ></path>
                      <path
                        className="st2"
                        d="M165.6,154.3h16c2.6,0,4.8,2.1,4.8,4.8v65.3c0,2.6,2.1,4.8,4.8,4.8h12.3c2.6,0,4.8-2.1,4.8-4.8v-99
			c0-2.6-2.1-4.8-4.8-4.8h-8.3c-2.6,0-4.8,1-5.1,2.2c-0.1,0.6-0.3,1.3-0.5,2.2c-0.9,3.2-2.3,5.8-4.2,7.8c-2.7,2.8-6.2,4.7-10.5,5.7
			c-2,0.4-5.1,0.8-9.3,1.1c-2.6,0.2-4.8,2.4-4.8,5v5C160.8,152.2,162.9,154.3,165.6,154.3z"
                      ></path>
                    </g>
                  </g>
                </svg>
                <motion.h2
                  className="text-sm font-medium"
                  initial={{ opacity: 0, x: -20 }}
                  animate={{ opacity: 1, x: 0 }}
                  transition={{ duration: 0.4 }}
                >
                  Monthly Reports
                </motion.h2>
              </motion.button>
              {/* Yearly Reports */}
              <motion.button
                whileHover={{ scale: 1.05, boxShadow: "0 2px 10px #0003" }}
                whileTap={{ scale: 0.97 }}
                className="w-full h-12 bg-[#222831] rounded-lg text-white flex gap-2 items-center px-5 py-3 my-1 cursor-pointer transition-all"
                type="button"
                onClick={() => setSeeWhat("yearlyReport")}
              >
                <svg
                  width={34}
                  height={34}
                  fill="#EEEEEE"
                  version="1.1"
                  id="Layer_1"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlnsXlink="http://www.w3.org/1999/xlink"
                  x="0px"
                  y="0px"
                  viewBox="0 0 122.88 120.06"
                  xmlSpace="preserve"
                >
                  <g>
                    <path d="M69.66,4.05c0-2.23,2.2-4.05,4.94-4.05c2.74,0,4.94,1.81,4.94,4.05v17.72c0,2.23-2.2,4.05-4.94,4.05 c-2.74,0-4.94-1.81-4.94-4.05V4.05L69.66,4.05z M91.37,57.03c4.26,0,8.33,0.85,12.05,2.39c3.87,1.6,7.34,3.94,10.24,6.84 c2.9,2.9,5.24,6.38,6.84,10.23c1.54,3.72,2.39,7.79,2.39,12.05c0,4.26-0.85,8.33-2.39,12.05c-1.6,3.87-3.94,7.34-6.84,10.24 c-2.9,2.9-6.38,5.24-10.23,6.84c-3.72,1.54-7.79,2.39-12.05,2.39c-4.26,0-8.33-0.85-12.05-2.39c-3.87-1.6-7.34-3.94-10.24-6.84 c-2.9-2.9-5.24-6.38-6.84-10.24c-1.54-3.72-2.39-7.79-2.39-12.05c0-4.26,0.85-8.33,2.39-12.05c1.6-3.87,3.94-7.34,6.84-10.24 c2.9-2.9,6.38-5.24,10.23-6.84C83.04,57.88,87.1,57.03,91.37,57.03L91.37,57.03z M89.01,75.37c0-0.76,0.31-1.45,0.81-1.95l0,0l0,0 c0.5-0.5,1.19-0.81,1.96-0.81c0.77,0,1.46,0.31,1.96,0.81c0.5,0.5,0.81,1.19,0.81,1.96v14.74l11.02,6.54l0.09,0.06 c0.61,0.39,1.01,0.98,1.17,1.63c0.17,0.68,0.09,1.42-0.28,2.06l-0.02,0.03c-0.02,0.04-0.04,0.07-0.07,0.1 c-0.39,0.6-0.98,1-1.62,1.16c-0.68,0.17-1.42,0.09-2.06-0.28l-12.32-7.29c-0.43-0.23-0.79-0.58-1.05-0.99 c-0.26-0.42-0.41-0.91-0.41-1.43h0L89.01,75.37L89.01,75.37L89.01,75.37z M109.75,70.16c-2.4-2.4-5.26-4.33-8.43-5.64 c-3.06-1.27-6.42-1.96-9.95-1.96s-6.89,0.7-9.95,1.96c-3.17,1.31-6.03,3.24-8.43,5.64c-2.4,2.4-4.33,5.26-5.64,8.43 c-1.27,3.06-1.96,6.42-1.96,9.95c0,3.53,0.7,6.89,1.96,9.95c1.31,3.17,3.24,6.03,5.64,8.43c2.4,2.4,5.26,4.33,8.43,5.64 c3.06,1.27,6.42,1.96,9.95,1.96s6.89-0.7,9.95-1.96c3.17-1.31,6.03-3.24,8.43-5.64c4.71-4.71,7.61-11.2,7.61-18.38 c0-3.53-0.7-6.89-1.96-9.95C114.08,75.42,112.15,72.56,109.75,70.16L109.75,70.16z M13.45,57.36c-0.28,0-0.53-1.23-0.53-2.74 c0-1.51,0.22-2.73,0.53-2.73h13.48c0.28,0,0.53,1.23,0.53,2.73c0,1.51-0.22,2.74-0.53,2.74H13.45L13.45,57.36z M34.94,57.36 c-0.28,0-0.53-1.23-0.53-2.74c0-1.51,0.22-2.73,0.53-2.73h13.48c0.28,0,0.53,1.23,0.53,2.73c0,1.51-0.22,2.74-0.53,2.74H34.94 L34.94,57.36z M56.43,57.36c-0.28,0-0.53-1.23-0.53-2.74c0-1.51,0.22-2.73,0.53-2.73h13.48c0.28,0,0.53,1.22,0.53,2.72 c-1.35,0.84-2.65,1.76-3.89,2.75H56.43L56.43,57.36z M13.48,73.04c-0.28,0-0.53-1.23-0.53-2.74c0-1.51,0.22-2.74,0.53-2.74h13.48 c0.28,0,0.53,1.23,0.53,2.74c0,1.51-0.22,2.74-0.53,2.74H13.48L13.48,73.04z M34.97,73.04c-0.28,0-0.53-1.23-0.53-2.74 c0-1.51,0.22-2.74,0.53-2.74h13.48c0.28,0,0.53,1.23,0.53,2.74c0,1.51-0.22,2.74-0.53,2.74H34.97L34.97,73.04z M13.51,88.73 c-0.28,0-0.53-1.23-0.53-2.74c0-1.51,0.22-2.74,0.53-2.74h13.48c0.28,0,0.53,1.23,0.53,2.74c0,1.51-0.22,2.74-0.53,2.74H13.51 L13.51,88.73z M35,88.73c-0.28,0-0.53-1.23-0.53-2.74c0-1.51,0.22-2.74,0.53-2.74h13.48c0.28,0,0.53,1.23,0.53,2.74 c0,1.51-0.22,2.74-0.53,2.74H35L35,88.73z M25.29,4.05c0-2.23,2.2-4.05,4.94-4.05c2.74,0,4.94,1.81,4.94,4.05v17.72 c0,2.23-2.21,4.05-4.94,4.05c-2.74,0-4.94-1.81-4.94-4.05V4.05L25.29,4.05z M5.44,38.74h94.08v-20.4c0-0.7-0.28-1.31-0.73-1.76 c-0.45-0.45-1.09-0.73-1.76-0.73h-9.02c-1.51,0-2.74-1.23-2.74-2.74c0-1.51,1.23-2.74,2.74-2.74h9.02c2.21,0,4.19,0.89,5.64,2.34 c1.45,1.45,2.34,3.43,2.34,5.64v32.39c-1.8-0.62-3.65-1.12-5.55-1.49v-5.06h0.06H5.44v52.83c0,0.7,0.28,1.31,0.73,1.76 c0.45,0.45,1.09,0.73,1.76,0.73h44.71c0.51,1.9,1.15,3.75,1.92,5.53H7.98c-2.2,0-4.19-0.89-5.64-2.34C0.89,101.26,0,99.28,0,97.07 V18.36c0-2.2,0.89-4.19,2.34-5.64c1.45-1.45,3.43-2.34,5.64-2.34h9.63c1.51,0,2.74,1.23,2.74,2.74c0,1.51-1.23,2.74-2.74,2.74H7.98 c-0.7,0-1.31,0.28-1.76,0.73c-0.45,0.45-0.73,1.09-0.73,1.76v20.4H5.44L5.44,38.74z M43.07,15.85c-1.51,0-2.74-1.23-2.74-2.74 c0-1.51,1.23-2.74,2.74-2.74h18.36c1.51,0,2.74,1.23,2.74,2.74c0,1.51-1.23,2.74-2.74,2.74H43.07L43.07,15.85z"></path>
                  </g>
                </svg>
                <motion.h2
                  className="text-sm font-medium"
                  initial={{ opacity: 0, x: -20 }}
                  animate={{ opacity: 1, x: 0 }}
                  transition={{ duration: 0.4 }}
                >
                  Yearly Reports
                </motion.h2>
              </motion.button>
            </div>
          )}

          {seeWhat && (
            <div className="flex flex-col items-center w-full h-full border border-[#eeeeee8c] rounded-b-2xl p-2">
              {seeWhat === "dailyReports" ? (
                isLoading ? (
                  <LoadingScreen />
                ) : (
                  <DailyProgressChart dailyReports={dailyReportsData} />
                )
              ) : seeWhat === "monthlyReports" ? (
                isLoading ? (
                  <LoadingScreen />
                ) : (
                  <MonthlyReportChart data={monthlyReportsData} />
                )
              ) : seeWhat === "yearlyReport" ? (
                isLoading ? (
                  <LoadingScreen />
                ) : (
                  <YearlyReportChart data={yearlyReportsData} />
                )
              ) : null}
            </div>
          )}
          </div>
        </div>

        {/* NAV BAR */}
      <div className="navigation_btns w-full h-[10%] border border-white/10 rounded-2xl px-3 py-1 backdrop-blur-xl bg-[#1F242A]/50 shadow-2xl">
        <div className="flex justify-between items-center h-full w-full">
          {[
            { label: "Home", path: "/" },
            { label: "Add", path: "/create" },
            { label: "Tasks", path: "/self-reflection" },
            { label: "Progress", path: "/analytics" },
            { label: "Profile", path: "/profile" },
          ].map((btn,key) => (
            <button
            key={`${key}`}
              onClick={() => navigate(btn.path)}
              className="flex flex-col justify-center items-center h-full w-full rounded-xl hover:bg-white/5 transition-all text-white/80 cursor-pointer"
            >
              <span className="text-sm mt-1">{btn.label}</span>
            </button>
          ))}
        </div>
      </div>
      </div>
      {/* laptops */}
      <div className=" hidden mt-18 w-[70%] h-[90%] bg-[#0F1115] lg:flex flex-col items-center rounded-lg px-6 ">
        <motion.h1
          initial={{ opacity: 0, y: -40, scale: 0.96 }}
          animate={{ opacity: 1, y: 0, scale: 1 }}
          transition={{ duration: 0.8, type: "spring", stiffness: 80 }}
          className="text-center text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-linear-to-r from-yellow-400 via-amber-200 to-yellow-500 drop-shadow-[0_2px_12px_rgba(251,176,59,0.15)] select-none"
        >
          AuraMind
        </motion.h1>
        {/* body */}

        <div className="flex justify-between items-center w-full">
          <h1 className="text-left w-full p-2 text-lg">Progress Reports </h1>
          <AnimatePresence mode="wait">
            {seeWhat && (
              <motion.button
                initial={{ opacity: 0, x: 40 }}
                animate={{ opacity: 1, x: 0 }}
                exit={{ opacity: 0, x: 40 }}
                transition={{ duration: 0.4, type: "spring" }}
                className="flex items-center text-[#00ADB5] hover:text-[#EEEEEE] font-semibold px-3 py-1 rounded transition-colors duration-200 cursor-pointer"
                onClick={() => setSeeWhat(null)}
                aria-label="Go back"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  className="h-6 w-6 mr-1"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  strokeWidth={2}
                >
                  <path
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    d="M15 19l-7-7 7-7"
                  />
                </svg>
                Back
              </motion.button>
            )}
          </AnimatePresence>
        </div>

        {!seeWhat && (
          <div className="flex flex-col items-center w-full h-[90%]  rounded-b-2xl p-2">
            {/* Daily Reports */}
            <motion.button
              whileHover={{ scale: 1, boxShadow: "0 2px 10px #0003" }}
              whileTap={{ scale: 0.97 }}
              className="w-full h-12 bg-[#222831] rounded-lg text-white flex gap-2 items-center  py-3 my-1 cursor-pointer transition-all px-6 hover:px-16 duration-500 hover:bg-gray-700"
              type="button"
              onClick={() => setSeeWhat("dailyReports")}
            >
              <svg
                className=""
                width="34"
                height="34"
                viewBox="0 0 512 512"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill="#EEEEEE"
                  d="M245.333 117.333C239.675 117.333 234.249 119.581 230.248 123.582C226.248 127.583 224 133.009 224 138.667V266.667C224 272.325 226.248 277.751 230.249 281.751C234.249 285.752 239.675 288 245.333 288H341.333C344.147 288.019 346.937 287.482 349.542 286.418C352.147 285.355 354.516 283.786 356.513 281.803C358.509 279.821 360.094 277.462 361.175 274.864C362.256 272.267 362.813 269.48 362.813 266.667C362.813 263.853 362.256 261.066 361.175 258.469C360.094 255.871 358.509 253.512 356.513 251.53C354.516 249.547 352.147 247.978 349.542 246.915C346.937 245.851 344.147 245.314 341.333 245.333H266.667V138.667C266.667 133.009 264.419 127.583 260.418 123.582C256.417 119.581 250.991 117.333 245.333 117.333V117.333Z"
                ></path>
                <path
                  fill="#EEEEEE"
                  d="M421.938 90.068C330.438 -1.43201 181.563 -1.43201 90.0631 90.068C86.1041 94.0768 83.8919 99.4892 83.9095 105.123C83.9271 110.758 86.1731 116.156 90.1571 120.14C94.1411 124.124 99.5395 126.37 105.174 126.388C110.808 126.405 116.22 124.193 120.229 120.234C195.083 45.37 316.896 45.37 391.771 120.234C466.625 195.094 466.625 316.906 391.771 391.766C325.747 457.775 222.6 465.342 147.626 414.2L166.667 407.853C172.035 406.063 176.472 402.214 179.002 397.152C181.531 392.09 181.947 386.231 180.157 380.863C178.366 375.496 174.517 371.059 169.456 368.529C164.394 365.999 158.535 365.584 153.167 367.374L97.8671 385.811C93.0029 387.435 88.8859 390.755 86.2692 395.165C83.6525 399.575 82.7111 404.78 83.6171 409.827L95.0001 473.109C95.8866 478.03 98.4722 482.483 102.306 485.693C106.14 488.903 110.979 490.665 115.979 490.672C117.253 490.67 118.525 490.555 119.779 490.328C125.347 489.326 130.29 486.154 133.519 481.509C136.749 476.863 138.001 471.125 137 465.557L135.466 457.029C180.316 483.884 232.841 495.014 284.727 488.656C336.614 482.299 384.899 458.817 421.938 421.929C513.427 330.438 513.427 181.563 421.938 90.068Z"
                ></path>
                <path
                  fill="#EEEEEE"
                  d="M73.3438 143.7C70.8254 142.471 68.0895 141.751 65.2926 141.581C62.4956 141.41 59.6925 141.793 57.0436 142.707C54.3947 143.621 51.9519 145.048 49.8549 146.906C47.758 148.765 46.048 151.019 44.8228 153.539C43.0941 157.08 41.4691 160.652 39.9478 164.257C38.8369 166.838 38.2471 169.614 38.2121 172.424C38.1771 175.234 38.6978 178.023 39.7441 180.631C40.7905 183.239 42.3418 185.615 44.3092 187.622C46.2765 189.629 48.6209 191.227 51.2078 192.325C53.7947 193.423 56.5731 193.999 59.3833 194.02C62.1934 194.04 64.98 193.506 67.5829 192.446C70.1858 191.387 72.5537 189.824 74.5506 187.846C76.5475 185.869 78.1339 183.516 79.2188 180.924C80.4688 177.997 81.7808 175.091 83.1768 172.216C84.4038 169.698 85.1228 166.963 85.2927 164.167C85.4626 161.371 85.08 158.569 84.1669 155.921C83.2538 153.273 81.828 150.831 79.971 148.734C78.114 146.637 75.862 144.927 73.3438 143.7Z"
                ></path>
                <path
                  fill="#EEEEEE"
                  d="M42.74 272.083C48.301 272.082 53.6415 269.908 57.6228 266.026C61.6041 262.143 63.9112 256.859 64.052 251.3C64.156 247.274 64.3816 243.246 64.729 239.217C64.9705 236.426 64.66 233.616 63.8152 230.945C62.9704 228.274 61.6078 225.796 59.8054 223.652C58.0029 221.508 55.7958 219.74 53.31 218.449C50.8243 217.158 48.1086 216.37 45.318 216.128C42.5274 215.887 39.7166 216.197 37.046 217.042C34.3754 217.887 31.8973 219.249 29.7533 221.052C27.6093 222.854 25.8413 225.061 24.5503 227.547C23.2593 230.033 22.4705 232.748 22.229 235.539C21.8023 240.42 21.528 245.309 21.406 250.206C21.2606 255.861 23.3671 261.342 27.2622 265.444C31.1573 269.546 36.5221 271.934 42.177 272.081C42.365 272.083 42.552 272.083 42.74 272.083Z"
                ></path>
                <path
                  fill="#EEEEEE"
                  d="M71.9381 310.8C71.1358 308.116 69.8127 305.617 68.0444 303.444C66.276 301.271 64.0971 299.468 61.632 298.138C59.1669 296.807 56.4638 295.976 53.6772 295.69C50.8906 295.404 48.075 295.67 45.3911 296.472C42.7072 297.274 40.2076 298.597 38.035 300.366C35.8625 302.134 34.0595 304.313 32.729 306.778C31.3985 309.243 30.5666 311.946 30.2808 314.733C29.9949 317.519 30.2608 320.335 31.0631 323.019C32.1771 326.758 33.3851 330.488 34.6881 334.18C35.6176 336.823 37.0585 339.257 38.9286 341.343C40.7987 343.429 43.0614 345.126 45.5875 346.337C48.1135 347.549 50.8534 348.251 53.6508 348.404C56.4482 348.556 59.2482 348.157 61.8911 347.227C64.5339 346.298 66.9678 344.857 69.0538 342.986C71.1398 341.116 72.837 338.854 74.0485 336.328C75.26 333.802 75.9621 331.062 76.1148 328.264C76.2674 325.467 75.8676 322.667 74.9381 320.024C73.8647 316.969 72.8647 313.894 71.9381 310.8Z"
                ></path>
              </svg>
              <motion.h2
                className="text-sm font-medium"
                initial={{ opacity: 0, x: -20 }}
                animate={{ opacity: 1, x: 0 }}
                transition={{ duration: 0.4 }}
              >
                Daily Reports
              </motion.h2>
            </motion.button>
            {/* Monthly Reports*/}
            <motion.button
              whileHover={{ scale: 1, boxShadow: "0 2px 10px #0003" }}
              whileTap={{ scale: 0.97 }}
              className="w-full h-12 bg-[#222831] rounded-lg text-white flex gap-2 items-center  py-3 my-1 cursor-pointer transition-all px-6 hover:px-16 duration-500 hover:bg-gray-700"
              type="button"
              onClick={() => {
                setSeeWhat("monthlyReports");
              }}
            >
              <svg
                width={34}
                height={34}
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlnsXlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                viewBox="0 0 276.3 276.3"
                xmlSpace="preserve"
                fill="#EEEEEE"
              >
                <g>
                  <g>
                    <path
                      d="M267.2,99.8V62.2v-4.1c0-21.6-19-39.1-42.7-39.7v0v9.5v0v9.6v0V43c0,14-11.4,25.4-25.4,25.4
			c-14,0-25.4-11.4-25.4-25.4v-5.6v-9.6v-9.6h-72v9.6v9.6V43c0,14-11.4,25.4-25.4,25.4C62.4,68.3,51,57,51,43v-5.4v0v-9.6v0v-9.5v0
			c-23.3,1-41.9,18.4-41.9,39.7v4.1v37.6v132.6c0,24.2,19.7,43.9,43.9,43.9h170.2c24.2,0,43.9-19.7,43.9-43.9L267.2,99.8L267.2,99.8
			z M248.1,232.4c0,13.7-11.1,24.8-24.8,24.8H53.1c-13.7,0-24.8-11.1-24.8-24.8V99.8h219.8V232.4z"
                    ></path>
                    <path
                      d="M65.3,11v7.2v9.6v9.6V43c0,6.1,4.9,11,11,11c6.1,0,11-4.9,11-11v-5.6v-9.6v-9.6V11c0-6.1-4.9-11-11-11
			C70.3,0,65.3,4.9,65.3,11z"
                    ></path>
                    <path
                      d="M199.1,0c-6.1,0-11.1,4.9-11.1,11v7.2v9.6v9.6V43c0,6.1,4.9,11,11.1,11s11.1-4.9,11.1-11v-5.6v-9.6v-9.6V11
			C210.2,4.9,205.2,0,199.1,0z"
                    ></path>
                    <path
                      d="M106.2,231.9c12.5,0,21.9-3.5,28.2-10.4c6.4-7,9.5-15,9.5-24.2c0-8.7-2.7-15.6-8.2-20.7
			c-1.5-1.4-2.8-2.4-4-3.2c-2.2-1.5-2.4-2.5-0.3-4.1c1.2-0.9,2.3-2,3.4-3.3c3.8-4.4,5.7-9.8,5.7-16.2c0-9-3.2-16.2-9.5-21.6
			s-14.7-8-25.1-8c-5.6,0-10.3,0.7-14.1,2c-3.8,1.3-7.2,3.3-9.9,5.8c-3.7,3.6-6.5,7.5-8.2,11.8c-1.2,3.4-1.9,6.9-2.4,10.6
			c-0.3,2.6,1.8,4.8,4.4,4.8H86c2.6,0,4.7-2.2,5.1-4.8c0.5-3.2,1.5-5.9,3.1-8c2.4-3.2,6.1-4.8,11.1-4.8c4.4,0,7.8,1.3,10.2,3.9
			c2.4,2.6,3.6,6,3.6,10.1c0,6.4-2.4,10.6-7.1,12.7c-2.1,0.9-5.3,1.5-9.7,1.8c-2.6,0.2-4.8,2.3-4.8,5v5.7c0,2.6,2.1,4.8,4.8,4.9
			c4.7,0.2,8.3,0.9,10.7,1.9c5.8,2.4,8.7,7.2,8.7,14.3c0,5.4-1.6,9.5-4.7,12.4c-3.1,2.9-6.8,4.3-10.9,4.3c-6.8,0-11.5-2.6-14.1-7.9
			c-0.8-1.7-1.4-3.7-1.8-6c-0.4-2.6-2.5-4.8-5.1-4.8H73.7c-2.6,0-4.7,2.1-4.4,4.8c0.7,6.5,2.3,11.9,4.9,16.2
			C80.2,226.9,90.8,231.9,106.2,231.9z"
                    ></path>
                    <path
                      className="st2"
                      d="M165.6,154.3h16c2.6,0,4.8,2.1,4.8,4.8v65.3c0,2.6,2.1,4.8,4.8,4.8h12.3c2.6,0,4.8-2.1,4.8-4.8v-99
			c0-2.6-2.1-4.8-4.8-4.8h-8.3c-2.6,0-4.8,1-5.1,2.2c-0.1,0.6-0.3,1.3-0.5,2.2c-0.9,3.2-2.3,5.8-4.2,7.8c-2.7,2.8-6.2,4.7-10.5,5.7
			c-2,0.4-5.1,0.8-9.3,1.1c-2.6,0.2-4.8,2.4-4.8,5v5C160.8,152.2,162.9,154.3,165.6,154.3z"
                    ></path>
                  </g>
                </g>
              </svg>
              <motion.h2
                className="text-sm font-medium"
                initial={{ opacity: 0, x: -20 }}
                animate={{ opacity: 1, x: 0 }}
                transition={{ duration: 0.4 }}
              >
                Monthly Reports
              </motion.h2>
            </motion.button>
            {/* Yearly Reports */}
            <motion.button
              whileHover={{ scale: 1, boxShadow: "0 2px 10px #0003" }}
              whileTap={{ scale: 0.97 }}
              className="w-full h-12 bg-[#222831] rounded-lg text-white flex gap-2 items-center  py-3 my-1 cursor-pointer transition-all px-6 hover:px-16 duration-500 hover:bg-gray-700"
              type="button"
              onClick={() => setSeeWhat("yearlyReport")}
            >
              <svg
                width={34}
                height={34}
                fill="#EEEEEE"
                version="1.1"
                id="Layer_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlnsXlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                viewBox="0 0 122.88 120.06"
                xmlSpace="preserve"
              >
                <g>
                  <path d="M69.66,4.05c0-2.23,2.2-4.05,4.94-4.05c2.74,0,4.94,1.81,4.94,4.05v17.72c0,2.23-2.2,4.05-4.94,4.05 c-2.74,0-4.94-1.81-4.94-4.05V4.05L69.66,4.05z M91.37,57.03c4.26,0,8.33,0.85,12.05,2.39c3.87,1.6,7.34,3.94,10.24,6.84 c2.9,2.9,5.24,6.38,6.84,10.23c1.54,3.72,2.39,7.79,2.39,12.05c0,4.26-0.85,8.33-2.39,12.05c-1.6,3.87-3.94,7.34-6.84,10.24 c-2.9,2.9-6.38,5.24-10.23,6.84c-3.72,1.54-7.79,2.39-12.05,2.39c-4.26,0-8.33-0.85-12.05-2.39c-3.87-1.6-7.34-3.94-10.24-6.84 c-2.9-2.9-5.24-6.38-6.84-10.24c-1.54-3.72-2.39-7.79-2.39-12.05c0-4.26,0.85-8.33,2.39-12.05c1.6-3.87,3.94-7.34,6.84-10.24 c2.9-2.9,6.38-5.24,10.23-6.84C83.04,57.88,87.1,57.03,91.37,57.03L91.37,57.03z M89.01,75.37c0-0.76,0.31-1.45,0.81-1.95l0,0l0,0 c0.5-0.5,1.19-0.81,1.96-0.81c0.77,0,1.46,0.31,1.96,0.81c0.5,0.5,0.81,1.19,0.81,1.96v14.74l11.02,6.54l0.09,0.06 c0.61,0.39,1.01,0.98,1.17,1.63c0.17,0.68,0.09,1.42-0.28,2.06l-0.02,0.03c-0.02,0.04-0.04,0.07-0.07,0.1 c-0.39,0.6-0.98,1-1.62,1.16c-0.68,0.17-1.42,0.09-2.06-0.28l-12.32-7.29c-0.43-0.23-0.79-0.58-1.05-0.99 c-0.26-0.42-0.41-0.91-0.41-1.43h0L89.01,75.37L89.01,75.37L89.01,75.37z M109.75,70.16c-2.4-2.4-5.26-4.33-8.43-5.64 c-3.06-1.27-6.42-1.96-9.95-1.96s-6.89,0.7-9.95,1.96c-3.17,1.31-6.03,3.24-8.43,5.64c-2.4,2.4-4.33,5.26-5.64,8.43 c-1.27,3.06-1.96,6.42-1.96,9.95c0,3.53,0.7,6.89,1.96,9.95c1.31,3.17,3.24,6.03,5.64,8.43c2.4,2.4,5.26,4.33,8.43,5.64 c3.06,1.27,6.42,1.96,9.95,1.96s6.89-0.7,9.95-1.96c3.17-1.31,6.03-3.24,8.43-5.64c4.71-4.71,7.61-11.2,7.61-18.38 c0-3.53-0.7-6.89-1.96-9.95C114.08,75.42,112.15,72.56,109.75,70.16L109.75,70.16z M13.45,57.36c-0.28,0-0.53-1.23-0.53-2.74 c0-1.51,0.22-2.73,0.53-2.73h13.48c0.28,0,0.53,1.23,0.53,2.73c0,1.51-0.22,2.74-0.53,2.74H13.45L13.45,57.36z M34.94,57.36 c-0.28,0-0.53-1.23-0.53-2.74c0-1.51,0.22-2.73,0.53-2.73h13.48c0.28,0,0.53,1.23,0.53,2.73c0,1.51-0.22,2.74-0.53,2.74H34.94 L34.94,57.36z M56.43,57.36c-0.28,0-0.53-1.23-0.53-2.74c0-1.51,0.22-2.73,0.53-2.73h13.48c0.28,0,0.53,1.22,0.53,2.72 c-1.35,0.84-2.65,1.76-3.89,2.75H56.43L56.43,57.36z M13.48,73.04c-0.28,0-0.53-1.23-0.53-2.74c0-1.51,0.22-2.74,0.53-2.74h13.48 c0.28,0,0.53,1.23,0.53,2.74c0,1.51-0.22,2.74-0.53,2.74H13.48L13.48,73.04z M34.97,73.04c-0.28,0-0.53-1.23-0.53-2.74 c0-1.51,0.22-2.74,0.53-2.74h13.48c0.28,0,0.53,1.23,0.53,2.74c0,1.51-0.22,2.74-0.53,2.74H34.97L34.97,73.04z M13.51,88.73 c-0.28,0-0.53-1.23-0.53-2.74c0-1.51,0.22-2.74,0.53-2.74h13.48c0.28,0,0.53,1.23,0.53,2.74c0,1.51-0.22,2.74-0.53,2.74H13.51 L13.51,88.73z M35,88.73c-0.28,0-0.53-1.23-0.53-2.74c0-1.51,0.22-2.74,0.53-2.74h13.48c0.28,0,0.53,1.23,0.53,2.74 c0,1.51-0.22,2.74-0.53,2.74H35L35,88.73z M25.29,4.05c0-2.23,2.2-4.05,4.94-4.05c2.74,0,4.94,1.81,4.94,4.05v17.72 c0,2.23-2.21,4.05-4.94,4.05c-2.74,0-4.94-1.81-4.94-4.05V4.05L25.29,4.05z M5.44,38.74h94.08v-20.4c0-0.7-0.28-1.31-0.73-1.76 c-0.45-0.45-1.09-0.73-1.76-0.73h-9.02c-1.51,0-2.74-1.23-2.74-2.74c0-1.51,1.23-2.74,2.74-2.74h9.02c2.21,0,4.19,0.89,5.64,2.34 c1.45,1.45,2.34,3.43,2.34,5.64v32.39c-1.8-0.62-3.65-1.12-5.55-1.49v-5.06h0.06H5.44v52.83c0,0.7,0.28,1.31,0.73,1.76 c0.45,0.45,1.09,0.73,1.76,0.73h44.71c0.51,1.9,1.15,3.75,1.92,5.53H7.98c-2.2,0-4.19-0.89-5.64-2.34C0.89,101.26,0,99.28,0,97.07 V18.36c0-2.2,0.89-4.19,2.34-5.64c1.45-1.45,3.43-2.34,5.64-2.34h9.63c1.51,0,2.74,1.23,2.74,2.74c0,1.51-1.23,2.74-2.74,2.74H7.98 c-0.7,0-1.31,0.28-1.76,0.73c-0.45,0.45-0.73,1.09-0.73,1.76v20.4H5.44L5.44,38.74z M43.07,15.85c-1.51,0-2.74-1.23-2.74-2.74 c0-1.51,1.23-2.74,2.74-2.74h18.36c1.51,0,2.74,1.23,2.74,2.74c0,1.51-1.23,2.74-2.74,2.74H43.07L43.07,15.85z"></path>
                </g>
              </svg>
              <motion.h2
                className="text-sm font-medium"
                initial={{ opacity: 0, x: -20 }}
                animate={{ opacity: 1, x: 0 }}
                transition={{ duration: 0.4 }}
              >
                Yearly Reports
              </motion.h2>
            </motion.button>
          </div>
        )}

        {seeWhat && (
          <div className="flex flex-col items-center w-full h-[86%]  rounded-b-2xl p-2">
            {seeWhat === "dailyReports" ? (
              isLoading ? (
                <LoadingScreen />
              ) : (
                <DailyProgressChart dailyReports={dailyReportsData} />
              )
            ) : seeWhat === "monthlyReports" ? (
              isLoading ? (
                <LoadingScreen />
              ) : (
                <MonthlyReportChart data={monthlyReportsData} />
              )
            ) : seeWhat === "yearlyReport" ? (
              isLoading ? (
                <LoadingScreen />
              ) : (
                <YearlyReportChart data={yearlyReportsData} />
              )
            ) : null}
          </div>
        )}
      </div>
    </div>
  );
}

export default Analytics;
